<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Image Modal -->
<div th:fragment="image-modal" class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content" style="border-radius: 16px; border: none;">
            <div class="modal-header border-0">
                <h5 class="modal-title" id="imageModalTitle">이미지 보기</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
            </div>
            <div class="modal-body text-center p-4">
                <img id="modalImage" class="img-fluid rounded-3" src="" alt="확대 이미지" style="max-height: 70vh;">
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-outline-secondary action-btn" onclick="downloadImage()">
                    <i class="bi bi-download me-2"></i>다운로드
                </button>
                <button type="button" class="btn btn-secondary action-btn" data-bs-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>

<!-- Approve Modal -->
<div th:fragment="approve-modal" class="modal fade" id="approveModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="border-radius: 16px;">
            <div class="modal-header bg-success text-white" style="border-radius: 16px 16px 0 0;">
                <h5 class="modal-title">
                    <i class="bi bi-check-circle me-2"></i>회원 승인
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-4">
                <div class="text-center mb-4">
                    <i class="bi bi-person-check text-success" style="font-size: 4rem;"></i>
                    <h6 class="mt-3">이 회원을 승인하시겠습니까?</h6>
                    <p class="text-muted">승인 후에는 회원이 서비스를 이용할 수 있습니다.</p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-outline-secondary action-btn" data-bs-dismiss="modal">취소</button>
                <button type="button" class="btn btn-success action-btn" onclick="confirmApprove()">
                    <i class="bi bi-check-circle me-2"></i>승인
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Reject Modal -->
<div th:fragment="reject-modal" class="modal fade" id="rejectModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="border-radius: 16px;">
            <div class="modal-header bg-danger text-white" style="border-radius: 16px 16px 0 0;">
                <h5 class="modal-title">
                    <i class="bi bi-x-circle me-2"></i>회원 거절
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-4">
                <div class="mb-4">
                    <label class="form-label fw-bold">거절 사유</label>
                    <textarea id="rejectReason" class="form-control" rows="4" placeholder="거절 사유를 상세히 입력해주세요..." style="border-radius: 12px;"></textarea>
                    <div class="form-text">입력한 사유는 회원에게 전달됩니다.</div>
                </div>
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-outline-secondary action-btn" data-bs-dismiss="modal">취소</button>
                <button type="button" class="btn btn-danger action-btn" onclick="confirmReject()">
                    <i class="bi bi-x-circle me-2"></i>거절
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Rejection History Modal -->
<div th:fragment="rejection-history-modal" class="modal fade" id="rejectionHistoryModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content" style="border-radius: 16px;">
            <div class="modal-header bg-info text-white" style="border-radius: 16px 16px 0 0;">
                <h5 class="modal-title">
                    <i class="bi bi-clock-history me-2"></i>거절 이력
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-4" id="rejectionHistoryContent">
                <div class="text-center py-5">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">로딩 중...</span>
                    </div>
                    <p class="mt-3 text-muted">거절 이력을 불러오는 중...</p>
                </div>
            </div>
            <div class="modal-footer border-0">
                <button type="button" class="btn btn-secondary action-btn" data-bs-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
